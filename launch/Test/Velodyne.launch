<launch>
<!-- 
  $ roslaunch rtabmap_ros test_velodyne.launch
  $ rosrun rviz rviz -f map
  $ Show TF and /rtabmap/cloud_map topics
-->

<arg name="frame_id"        default="velodyne"/>
<arg name="scan_topic"    default="/velodyne_points"/>
<arg name="organize_cloud" default="true"/>

<!-- 开启雷达 -->
<include file="$(find velodyne_pointcloud)/launch/VLP16_points.launch">
  <arg name="organize_cloud" value="$(arg organize_cloud)"/>
  <arg name="max_range" value="130.0" />
  <arg name="min_range" value="1.5" />
</include>  

<!-- 开启SLAM -->
<include  file="$(find rtabmap_ros)/launch/rtabmap_lidar.launch">
  <arg name="rtabmap_args"      value="--delete_db_on_start"/>

  <arg name="gen_depth"    value="true"/>
  <arg name="subscribe_scan_cloud"    value="true"/>
  <arg name="scan_cloud_topic"  value="$(arg scan_topic)"/>
  
  <arg name="icp_odometry"  value="true"/>
  <arg name="visual_odometry"   value="false"/>

  <arg name="frame_id"          value="$(arg frame_id)"/>
</include>

</launch>
